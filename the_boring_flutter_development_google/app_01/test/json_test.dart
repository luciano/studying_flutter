// example of unit test
import 'package:test/test.dart';
import 'package:app_01/json_parsing.dart';

// testing Getting Json from Hacker News
void main() {
  test("parses topstories.json", () {
    const jsonString =
        "[17926805,17927217,17924747,17927200,17926576,17925710,17925637,17925842,17927342,17926026,17925982,17925071,17923942,17927029,17923800,17925888,17926779,17925456,17916456,17927183,17925597,17925399,17915879,17924936,17925908,17915563,17925499,17923870,17915829,17924649,17925605,17921002,17924840,17918003,17919297,17916670,17917007,17926513,17920650,17922130,17917095,17925094,17926950,17926461,17925550,17917076,17915049,17926968,17924064,17916817,17920720,17915244,17920556,17924878,17916698,17909002,17917479,17918258,17919811,17918748,17924799,17925008,17910089,17915323,17917238,17914935,17916753,17922205,17924917,17908403,17924333,17923484,17916141,17919800,17923881,17914562,17923259,17916004,17914691,17915296,17925890,17920816,17912929,17924234,17925516,17926509,17923673,17923335,17921868,17918989,17916868,17924545,17923138,17920400,17914959,17926291,17908360,17919192,17922984,17908072,17909992,17920287,17917127,17924798,17922258,17912734,17918872,17918825,17920826,17912189,17915371,17918372,17916582,17907506,17924800,17912507,17917186,17917005,17910632,17914723,17916449,17909594,17905666,17914481,17921819,17916981,17915389,17915740,17905574,17913374,17918467,17910107,17923626,17920646,17925666,17920656,17912131,17915487,17918526,17907654,17914571,17916553,17923778,17913303,17916674,17910916,17916399,17912986,17907931,17914731,17914982,17915560,17921953,17914729,17924846,17920541,17914678,17916308,17923901,17907816,17925314,17909133,17923330,17918314,17915420,17908212,17913668,17910851,17906113,17920272,17905340,17921601,17913029,17906530,17908628,17922688,17916200,17918909,17914634,17906397,17922594,17912910,17910272,17906046,17919351,17910560,17921928,17922382,17911661,17924856,17906637,17906712,17906607,17906509,17909898,17906910,17921789,17914926,17907712,17912707,17923621,17916678,17908187,17923492,17906423,17909737,17924641,17923954,17910267,17907625,17910704,17915745,17912427,17920767,17906662,17920032,17908028,17905829,17910090,17919779,17922987,17915522,17918754,17918557,17908691,17923225,17906353,17908908,17921273,17906316,17916222,17910889,17907751,17923571,17911607,17919113,17923980,17912995,17906456,17908547,17918037,17905657,17912079,17918264,17905565,17914251,17906409,17905454,17920103,17905199,17923619,17920968,17918506,17922786,17922272,17913284,17918364,17912618,17908843,17916627,17905307,17906233,17921714,17915105,17906591,17905919,17909397,17915089,17905702,17914675,17914699,17917364,17909694,17922963,17911609,17914364,17922651,17920827,17911009,17918746,17920522,17919070,17910565,17925761,17908761,17912243,17919066,17911259,17921493,17910830,17907124,17917366,17907462,17909809,17906870,17909633,17920902,17910069,17911022,17913225,17920583,17906605,17918990,17908925,17916323,17912980,17916954,17912585,17916772,17919201,17907609,17918980,17907236,17918712,17907680,17918163,17910047,17907979,17908620,17906570,17906837,17906268,17917911,17915741,17911517,17907539,17912192,17911640,17915294,17918857,17912840,17910804,17906681,17911300,17910926,17905618,17915390,17909522,17907274,17907911,17913451,17913386,17912879,17908309,17910166,17912148,17906103,17909755,17918824,17911060,17906723,17908965,17906226,17905706,17907820,17907128,17906264,17918946,17912858,17906182,17912298,17911645,17921620,17913188,17926599,17914660,17914602,17907518,17921557,17919329,17909696,17905679,17919541,17915129,17905404,17920070,17915298,17911282,17906080]";
    expect(parseTopStories(jsonString).first, 17926805);
  });

  test("parses item.json", () {
    const jsonString =
        """{"by":"dhouston","descendants":71,"id":8863,"kids":[9224,8952,8917,8884,8887,8943,8869,8940,8908,8958,9005,8873,9671,9067,9055,8865,8881,8872,8955,10403,8903,8928,9125,8998,8901,8902,8907,8894,8870,8878,8980,8934,8876],"score":104,"time":1175714200,"title":"My YC app: Dropbox - Throw away your USB drive","type":"story","url":"http://www.getdropbox.com/u/2/screencast.html"}""";
    expect(parseArticle(jsonString).by, "dhouston");
  });
}